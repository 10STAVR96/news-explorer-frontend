{"version":3,"sources":["images/icon/logout.svg","images/icon/logout-dark.svg","images/avatar/avatar-default.png","images/icon/github.svg","images/icon/fb.svg","contexts/CurrentUserContext.js","components/Navigation/Navigation.js","components/Header/Header.js","components/SearchForm/SearchForm.js","components/NewsCard/NewsCard.js","components/NewsCardList/NewsCardList.js","components/About/About.js","components/Preloader/Preloader.js","components/Main/Main.js","components/SavedNewsHeader/SavedNewsHeader.js","components/SavedNews/SavedNews.js","components/Footer/Footer.js","utils/MainApi.js","components/PopupWithForm/PopupWithForm.js","utils/formValidator.js","components/ProtectedRoute.js","components/App/App.js","utils/NewsApi.js","serviceWorker.js","index.js"],"names":["module","exports","CurrentUserContext","React","createContext","Navigation","props","closeMenu","isMenuOpen","isSavedNews","loggedIn","handleLoginPopup","signOut","currentUser","useContext","linkDark","logoutDark","activeLightLink","activeDarkLink","className","onClick","activeClassName","to","type","name","src","logoutIconDark","logoutIcon","alt","Header","isPopupOpened","useLocation","pathname","useState","setIsMenuOpen","title","handleMenu","SearchForm","onSubmit","keyword","useRef","useEffect","localKeyword","localStorage","getItem","current","value","evt","preventDefault","method","ref","required","placeholder","NewsCard","article","handleSaveCards","handleDeleteArticle","image","date","link","text","source","bookmarkIcon","_id","buttonMessage","dataStr","defaultData","Date","toLocaleString","month","day","getFullYear","formatDate","replace","href","NewsCardList","articles","savedArticles","handleMoreCards","articlesCounter","map","index","key","length","About","avatarDefault","Preloader","isSuccess","errorMessage","message","Main","isPreload","getNews","SavedNewsHeader","number","savedText","popularKeywords","result","keywords","art","reduce","acc","undefined","sortedKey","Object","keys","sort","a","b","item","join","keywordCount","SavedNews","Footer","target","rel","github","facebook","BASE_URL","getUser","token","fetch","headers","then","res","ok","json","data","Promise","reject","status","getSavedArticles","PopupWithForm","isOpen","onClose","getProfileInfo","isLogin","setIsLogin","successRegistr","setSuccessRegistr","isSubmitError","setIsSubmitError","submitErrorMessage","setSubmitErrorMessage","disabledState","setDisabledInput","validate","values","setValues","errors","setErrors","isValid","setIsValid","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","validationMessage","closest","checkValidity","useFormWithValidation","buttonSubmit","clearErrors","document","addEventListener","e","setTimeout","classList","contains","email","password","body","JSON","stringify","MainApi","setItem","catch","err","finally","id","noValidate","htmlFor","onChange","minLength","maxLength","disabled","pattern","ProtectedRoute","Component","component","App","setCurrentUser","isPopupWithFormOpened","setIsPopupWithFormOpened","setLoggedIn","setIsPreload","setIsSuccess","setErrorMessage","setArticles","setArticlesCounter","setSavedArticles","history","useHistory","closeAllPopups","processingArticles","news","processedArticles","find","localArticles","parse","all","user","console","log","articleId","newSavedArticles","filter","deletedArtId","processingDeleteArticle","Provider","removeItem","push","path","setDate","getDate","sevenDaysAgo","toISOString","split","today","NewsApi","totalResults","description","publishedAt","author","url","urlToImage","successRequest","savedArt","processingSaveArticle","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.5483f4e7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logout.ea82f02d.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout-dark.ea2cebef.svg\";","module.exports = __webpack_public_path__ + \"static/media/avatar-default.2f6dc968.png\";","module.exports = __webpack_public_path__ + \"static/media/github.22f10849.svg\";","module.exports = __webpack_public_path__ + \"static/media/fb.14d3d1f0.svg\";","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport './Navigation.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logoutIcon from '../../images/icon/logout.svg';\r\nimport logoutIconDark from '../../images/icon/logout-dark.svg';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction Navigation(props) {\r\n  const { closeMenu, isMenuOpen, isSavedNews, loggedIn, handleLoginPopup, signOut } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const linkDark = isSavedNews ? \"nav__link_theme_dark\": '';\r\n  const logoutDark = isSavedNews ? \"nav__logout_theme_dark\" : '';\r\n  const activeLightLink = isSavedNews ? '' : \"nav__link_active_light\";\r\n  const activeDarkLink = isSavedNews ? \"nav__link_active_dark\" : '';\r\n  \r\n  function handleLoginSignOut() {\r\n    loggedIn ? signOut() : handleLoginPopup();\r\n  }\r\n\r\n  return (\r\n    <nav className={`nav ${(isMenuOpen ? 'nav_opened' : '')}`}>\r\n      <NavLink onClick={closeMenu} className={`nav__link ${(isSavedNews && !isMenuOpen) ? linkDark : ''}`} activeClassName={activeLightLink} to=\"/\">Главная</NavLink>\r\n      {(loggedIn) ? <NavLink onClick={closeMenu} className={`nav__link ${(isSavedNews && !isMenuOpen) ? linkDark : ''}`} activeClassName={activeDarkLink} to=\"/saved-news\">Сохранённые статьи</NavLink> : ''}\r\n      <button onClick={handleLoginSignOut} type=\"button\" className={`nav__logout ${(isSavedNews && !isMenuOpen) ? logoutDark : ''}`}>\r\n        <span className=\"nav__logout-user\">{(loggedIn) ? currentUser.name : 'Авторизоваться'}</span>\r\n        {(loggedIn) ? <img className=\"nav__logout-icon\" src={(isSavedNews && !isMenuOpen) ? logoutIconDark : logoutIcon} alt=\"Выход\" /> : ''}\r\n      </button>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import React from 'react';\r\nimport './Header.css';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport Navigation from '../Navigation/Navigation';\r\n\r\nfunction Header(props) {\r\n  const { handleLoginPopup, isPopupOpened, loggedIn, signOut } = props;\r\n  let location = useLocation();\r\n  let isSavedNews = location.pathname==='/saved-news' ? true : false;\r\n  const [isMenuOpen, setIsMenuOpen] = React.useState(false);\r\n  const title = (isSavedNews) ? 'header__title_theme_dark' : '';\r\n\r\n  function handleMenu() {\r\n    setIsMenuOpen(!isMenuOpen);\r\n  }\r\n  function handleCloseMenu() {\r\n    setIsMenuOpen(false);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <NavLink className={`header__title ${(isSavedNews && !isMenuOpen) ? title : ''}`} to=\"/\">NewsExplorer</NavLink>\r\n      {(isPopupOpened) ? '' : <button onClick={handleMenu} className={`header__menu ${(isMenuOpen) ? \"icon-close\" : (isSavedNews) ? \"icon-menu-dark\" : \"icon-menu\"}`}></button>}\r\n      <Navigation\r\n        signOut={signOut} \r\n        closeMenu={handleCloseMenu}\r\n        isMenuOpen={isMenuOpen}\r\n        isSavedNews={isSavedNews}\r\n        loggedIn={loggedIn}\r\n        handleLoginPopup={handleLoginPopup}\r\n      />\r\n      {(isMenuOpen) ? <div onClick={handleMenu} className=\"header__backsheet\"></div> : ''}\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport './SearchForm.css';\r\n\r\nfunction SearchForm(props) {\r\n  const { onSubmit } = props;\r\n  const keyword = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onSubmit(keyword.current.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const localKeyword = localStorage.getItem('keyword');\r\n\r\n    if (localKeyword) {\r\n      keyword.current.value = localKeyword;\r\n    }\r\n  })\r\n\r\n  return (\r\n    <section className=\"search\">\r\n      <div className=\"search__position\">\r\n        <h1 className=\"search__title\">Что творится в мире?</h1>\r\n        <p className=\"search__subtitle\">Находите самые свежие статьи на любую тему и сохраняйте в своём личном кабинете.</p>\r\n        <form onSubmit={handleSubmit} className=\"search__form\" method=\"post\">\r\n          <input\r\n            ref={keyword}\r\n            className=\"search__input\" \r\n            type=\"text\" \r\n            required \r\n            placeholder=\"Введите тему новости\"\r\n          ></input>\r\n          <button className=\"search__submit\" type=\"submit\">Искать</button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\nimport './NewsCard.css';\r\n\r\nfunction NewsCard(props) {\r\n  const { isSavedNews, article, handleSaveCards, handleDeleteArticle, loggedIn, handleLoginPopup } = props;\r\n  const { image, date, title, link, text, source, keyword } = article;\r\n  const bookmarkIcon = (article._id && loggedIn) ? \"bookmark-marked-icon\" : \"bookmark-icon\";\r\n  const trashcanIcon = \"trashcan-icon\";\r\n  const buttonMessage = (loggedIn && !article._id) ? 'Сохранить статью' : 'Войдите, чтобы сохранять статьи';\r\n\r\n  function cleanText(str) {\r\n    return str.replace(/<\\/?[^>]+(>|$)/g, \"\"); // чистит текст статьи от случайно попавших html тегов таких как <ol><li>\r\n  }\r\n  function formatDate(dataStr) {\r\n    const defaultData = new Date(dataStr);\r\n    const data = `${defaultData.toLocaleString(\"ru\", { month: 'long', day: 'numeric' })}, ${defaultData.getFullYear()}`;\r\n    return data;\r\n  }\r\n  function handleIconClick() {\r\n    if (!loggedIn) {\r\n      handleLoginPopup();\r\n    } else if (!article._id && !isSavedNews) {\r\n      handleSaveCards(keyword, title, text, date, source, link, image);\r\n    } else {\r\n      handleDeleteArticle(article._id);\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <li className=\"card\">\r\n        <img className=\"card__image\" src={image} alt=\"картинка\" />\r\n        <div className=\"card__button-content\">\r\n          <button onClick={handleIconClick} className={`card__button ${(isSavedNews) ? trashcanIcon : bookmarkIcon }`} type=\"button\" ></button>\r\n          <span className=\"card__button-message\">{(isSavedNews || (article._id && loggedIn)) ?  'Убрать из сохранённых' : buttonMessage }</span>\r\n        </div>\r\n        <div className=\"card__text\">\r\n          <span className=\"card__date\">{formatDate(date)}</span>\r\n          <h3 className=\"card__title\">{title}</h3>\r\n          <p className=\"card__paragraph\">{cleanText(text)}</p>\r\n          <a className=\"card__source\" href={link}>{source}</a>\r\n        </div>\r\n        {(isSavedNews) ? <span className=\"card__keyword\">{keyword}</span> : ''}\r\n      </li>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewsCard;","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport './NewsCardList.css';\r\nimport NewsCard from '../NewsCard/NewsCard';\r\n\r\nfunction NewsCardList(props) {\r\n  const { \r\n    articles, \r\n    savedArticles, \r\n    handleMoreCards, \r\n    articlesCounter, \r\n    handleSaveCards,\r\n    handleDeleteArticle,\r\n    loggedIn,\r\n    handleLoginPopup,\r\n  } = props;\r\n  let location = useLocation();\r\n  let isSavedNews = location.pathname==='/saved-news' ? true : false;\r\n\r\n  return (\r\n    <section className=\"news-cards\">\r\n      {(isSavedNews) ? '' : <h2 className=\"news-cards__title\">Результаты поиска</h2>}\r\n      <ul className=\"news-cards__list\">\r\n        {((isSavedNews) ? savedArticles : articles).map((article, index) => (\r\n          (index <= articlesCounter || isSavedNews) ? \r\n            <NewsCard \r\n              key={index} \r\n              article={article}\r\n              isSavedNews={isSavedNews} \r\n              handleSaveCards={handleSaveCards}\r\n              handleDeleteArticle={handleDeleteArticle}\r\n              loggedIn={loggedIn}\r\n              handleLoginPopup={handleLoginPopup}\r\n            /> : null\r\n        ))}\r\n      </ul>\r\n      {(isSavedNews || articlesCounter>=articles.length) ? '' : <button onClick={handleMoreCards} className=\"news-cards__show-more-button\" type=\"button\">Показать еще</button>}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default NewsCardList;","import React from 'react';\r\nimport './About.css';\r\nimport avatarDefault from '../../images/avatar/avatar-default.png';\r\n\r\nfunction About() {\r\n  return (\r\n    <section className=\"about\">\r\n      <img className=\"about__avatar\" src={avatarDefault} alt=\"аватар по-умолчанию\" />\r\n      <div className=\"about__about-me\">\r\n        <h3 className=\"about__title\">Об авторе</h3>\r\n        <p className=\"about__text\">Это блок с описанием автора проекта. Здесь следует указать, как вас зовут, чем вы занимаетесь, какими технологиями разработки владеете.</p>\r\n        <p className=\"about__text\">Также можно рассказать о процессе обучения в Практикуме, чему вы тут научились, и чем можете помочь потенциальным заказчикам.</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default About;","import React from 'react';\r\nimport './Preloader.css';\r\n\r\nfunction Preloader(props) {\r\n  const { isSuccess, errorMessage } = props;\r\n  const message = isSuccess ? 'Идет поиск новостей...' : 'К сожалению по вашему запросу ничего не найдено.';\r\n  const errorText = 'Во время запроса произошла ошибка. Возможно, проблема с соединением или сервер недоступен. Подождите немного и попробуйте ещё раз';\r\n  \r\n  return (\r\n    <div className=\"preloader\">\r\n      <i className={(isSuccess) ? \"preloader__icon\" : \"not-found-icon\"}></i>\r\n      {(isSuccess) ? '' : <h4 className=\"preloader__title\">Ничего не найдено</h4>}\r\n      <p className=\"preloader__message\">{(errorMessage) ? errorText : message}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;","import React from 'react';\r\nimport './Main.css';\r\nimport SearchForm from '../SearchForm/SearchForm';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport About from '../About/About';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\nfunction Main(props) {\r\n  const { \r\n    isPreload, \r\n    getNews, \r\n    isSuccess, \r\n    errorMessage, \r\n    articles, \r\n    handleMoreCards, \r\n    articlesCounter, \r\n    handleSaveCards,\r\n    handleDeleteArticle,\r\n    loggedIn,\r\n    handleLoginPopup,\r\n  } = props;\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <SearchForm onSubmit={getNews} />\r\n      {(isPreload) ? \r\n        <Preloader isSuccess={isSuccess} errorMessage={errorMessage} />\r\n      : \r\n      (articles.length>0) ? \r\n        <NewsCardList \r\n          articles={articles} \r\n          handleMoreCards={handleMoreCards} \r\n          articlesCounter={articlesCounter}\r\n          handleSaveCards={handleSaveCards}\r\n          handleDeleteArticle={handleDeleteArticle}\r\n          loggedIn={loggedIn}\r\n          handleLoginPopup={handleLoginPopup}\r\n        /> \r\n      : ''}\r\n      <About />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport './SavedNewsHeader.css';\r\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\n\r\nfunction SavedNewsHeader(props) {\r\n  const { savedArticles } = props;\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function declOfNum(number, titles) {\r\n    const cases = [2, 0, 1, 1, 1, 2];\r\n    return titles[ (number%100>4 && number%100<20)? 2 : cases[(number%10<5)?number%10:5] ];\r\n  }\r\n  function keywordCount() {\r\n    let result = '';\r\n    const keywords = savedArticles.map((art) => art.keyword)\r\n    .reduce((acc, key) => {\r\n      acc[key] = acc[key] === undefined ? 1 : acc[key] += 1;\r\n      return acc;\r\n    }, {});\r\n    const sortedKey = Object.keys(keywords).map((key) => {\r\n      return [key, keywords[key]];\r\n    }).sort((a, b) => b[1] - a[1]).map((item) => item[0]);\r\n    if (sortedKey.length < 3) {\r\n      result = sortedKey.join(', ');\r\n    } else if (sortedKey.length === 3) {\r\n      sortedKey[2] = `и ${sortedKey[2]}`;\r\n      result = sortedKey.join(', ');\r\n    } else {\r\n      result = `${sortedKey[0]}, ${sortedKey[1]}, и ${sortedKey.length-2}-м другим`;\r\n    }\r\n    return result;\r\n  }\r\n  const savedText = declOfNum(savedArticles.length, ['сохранённая статья', 'сохранённые статьи', 'сохранённых статей']);\r\n  const popularKeywords = keywordCount();\r\n\r\n  return (\r\n    <section className=\"saved-header\">\r\n      <h3 className=\"saved-header__title\">Сохранённые статьи</h3>\r\n      <p className=\"saved-header__subtitle\">{`${currentUser.name}, у вас ${savedArticles.length} ${savedText}`}</p>\r\n      {(savedArticles.length>0) ? \r\n        <p className=\"saved-header__paragraph\">По ключевым словам: <span className=\"saved-header__paragraph_bold\">{popularKeywords}</span></p>\r\n      : null}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SavedNewsHeader;","import React from 'react';\r\nimport './SavedNews.css';\r\nimport SavedNewsHeader from '../SavedNewsHeader/SavedNewsHeader';\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\n\r\nfunction SavedNews(props) {\r\n  const { savedArticles, handleDeleteArticle, loggedIn } = props;\r\n\r\n  return (\r\n    <main className=\"saved-news\">\r\n      <SavedNewsHeader savedArticles={savedArticles} />\r\n      {(savedArticles.length > 0) ? <NewsCardList savedArticles={savedArticles} handleDeleteArticle={handleDeleteArticle} loggedIn={loggedIn} /> : null}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default SavedNews;","import React from 'react';\r\nimport './Footer.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport github from '../../images/icon/github.svg';\r\nimport facebook from '../../images/icon/fb.svg';\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Supersite, Powered by News API</p>\r\n      <nav className=\"footer__nav\">\r\n        <ul className=\"footer__list footer__list_links\">\r\n          <li>\r\n            <NavLink className=\"footer__link\" to=\"/\">Главная</NavLink>\r\n          </li>\r\n          <li>\r\n            <a className=\"footer__link\" href=\"https://praktikum.yandex.ru/\" target=\"_blank\"  rel=\"noopener noreferrer\">Яндекс.Практикум</a>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"footer__list footer__list_social\">\r\n          <li>\r\n            <a className=\"footer__link\" href=\"https://github.com/10STAVR96\" target=\"_blank\"  rel=\"noopener noreferrer\">\r\n              <img className=\"footer__icons\" src={github} alt=\"github\" />\r\n            </a>\r\n          </li>\r\n          <li>\r\n            <a className=\"footer__link\" href=\"https://www.facebook.com/profile.php?id=100010074348903\" target=\"_blank\"  rel=\"noopener noreferrer\">\r\n              <img className=\"footer__icons\" src={facebook} alt=\"facebook\" />\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;","const BASE_URL = 'https://api.stavr.students.nomoreparties.co';\r\n\r\nexport const register = (email, password, name) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password, name })\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(data.message || 'Ошибка'));\r\n  });\r\n};\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({ email, password })\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(data.message || 'пользователь с email не найден'));\r\n  });\r\n};\r\nexport const getUser = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(`${res.status} - ${data.message || 'токен не передан или передан не в том формате'}`));\r\n  });\r\n};\r\nexport const saveCard = (token, keyword, title, text, date, source, link, image) => {\r\n  return fetch(`${BASE_URL}/articles`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ keyword, title, text, date, source, link, image })\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(`${res.status} - ${data.message || 'Ошибка'}`));\r\n  });\r\n};\r\nexport const getSavedArticles = (token) => {\r\n  return fetch(`${BASE_URL}/articles`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(`${res.status} - ${data.message || 'Ошибка'}`));\r\n  });\r\n};\r\nexport const deleteArticle = (token, articleId) => {\r\n  return fetch(`${BASE_URL}/articles/${articleId}`, {\r\n    method: 'DELETE',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return res.json().then((data) => Promise.reject(`${res.status} - ${data.message || 'Ошибка'}`));\r\n  });\r\n};","import React from 'react';\r\nimport './PopupWithForm.css';\r\nimport { useFormWithValidation } from '../../utils/formValidator';\r\nimport * as MainApi from '../../utils/MainApi';\r\n\r\nfunction PopupWithForm(props) {\r\n  const { isOpen, onClose, getProfileInfo } = props;\r\n  const [isLogin, setIsLogin] = React.useState(true);\r\n  const [successRegistr, setSuccessRegistr] = React.useState(false);\r\n  const [isSubmitError, setIsSubmitError] = React.useState(false);\r\n  const [submitErrorMessage, setSubmitErrorMessage] = React.useState('');\r\n  const [disabledState, setDisabledInput] = React.useState(false);\r\n\r\n  const validate = useFormWithValidation();\r\n  const title = (isLogin) ? 'Вход' : 'Регистрация';\r\n  const buttonSubmit = (isLogin) ? 'Войти' : 'Зарегистрироваться';\r\n  const link = (isLogin) ? 'Зарегистрироваться' : 'Войти';\r\n\r\n  function clearErrors() {\r\n    validate.resetForm();\r\n    setIsSubmitError(false);\r\n    setSuccessRegistr(false);\r\n  }\r\n  function handleLinkFooter() {\r\n    setIsLogin(!isLogin);\r\n    clearErrors();\r\n  }\r\n  function handleLinkToLogin() {\r\n    setIsLogin(true);\r\n    setSuccessRegistr(false);\r\n  }\r\n  function handleCloseByIcon() {\r\n    onClose();\r\n    setTimeout(() => {\r\n      setIsLogin(true);\r\n      clearErrors();\r\n    }, 300);\r\n  }\r\n  function handleCloseByBackground(e) {\r\n    if (e.target.classList.contains('popup')) {\r\n      onClose();\r\n      setTimeout(() => {\r\n        setIsLogin(true);\r\n        clearErrors();\r\n      }, 300);\r\n    }\r\n  }\r\n  function handleSubmit(e) {\r\n    setDisabledInput(true);\r\n    e.preventDefault();\r\n    const email = validate.values.email;\r\n    const password = validate.values.password;\r\n    const name = validate.values.name;\r\n\r\n    (isLogin ?\r\n    MainApi.authorize(email, password)\r\n      .then(({ token }) => {\r\n        if(token) {\r\n          localStorage.setItem('token', token);\r\n          getProfileInfo(token);\r\n        }\r\n      })\r\n    :\r\n    MainApi.register(email, password, name)\r\n      .then((res) => {\r\n        if(res) {\r\n          setIsLogin(true);\r\n          setSuccessRegistr(true);\r\n        }\r\n      })\r\n    )\r\n      .catch((err) => {\r\n        setSubmitErrorMessage(err);\r\n        setIsSubmitError(true);\r\n      })\r\n      .finally(() => setDisabledInput(false));\r\n    setTimeout(() => validate.resetForm(), 500);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener('keydown', (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n        setTimeout(() => {\r\n          setIsLogin(true);\r\n          validate.resetForm();\r\n          setIsSubmitError(false);\r\n          setSuccessRegistr(false);\r\n        }, 300);\r\n      }\r\n    });\r\n  }, [isOpen, onClose, validate]);\r\n\r\n  return (\r\n    <div onClick={handleCloseByBackground} className={`popup ${(isOpen) ? \"popup_opened\" : ''}`}>\r\n      <form onSubmit={handleSubmit} id=\"popupWithForm\" className=\"popup__container\" noValidate>\r\n        <button onClick={handleCloseByIcon} className=\"popup__close\" type=\"button\"></button>\r\n        <h2 className=\"popup__title\">{(successRegistr) ? 'Пользователь успешно зарегистрирован!' : title}</h2>\r\n        {(successRegistr) ? <p onClick={handleLinkToLogin} className=\"popup__login-link\">Войти</p> :\r\n          <>\r\n            <label className=\"popup__input-title\" htmlFor=\"email\">Email</label>\r\n            <input \r\n              onChange={validate.handleChange}\r\n              id=\"email\" \r\n              className={`popup__input ${(validate.errors.email) ? 'popup__input_type_error' : ''}`} \r\n              type=\"email\" \r\n              name=\"email\" \r\n              minLength=\"4\" \r\n              maxLength=\"50\" \r\n              required \r\n              placeholder=\"Введите почту\"\r\n              value={validate.values.email || ''}\r\n              disabled={disabledState}\r\n            />\r\n            <span className={`popup__input-error ${(validate.errors.email) ? 'popup__input-error_visible' : ''}`} id=\"email-error\">Неправильный формат email</span>\r\n            <label className=\"popup__input-title\" htmlFor=\"password\">Пароль</label>\r\n            <input\r\n              onChange={validate.handleChange} \r\n              id=\"password\" \r\n              className=\"popup__input\" \r\n              type=\"password\" \r\n              name=\"password\" \r\n              minLength=\"2\" \r\n              maxLength=\"100\" \r\n              required \r\n              placeholder=\"Введите пароль\"\r\n              pattern=\"[A-Za-zА-Яа-яЁё0-9 -]{2,20}\"\r\n              value={validate.values.password || ''}\r\n              disabled={disabledState}\r\n            />\r\n            <span className={`popup__input-error ${(validate.errors.password) ? 'popup__input-error_visible' : ''}`} id=\"password-error\">Неправильный формат пароля</span>\r\n          </>\r\n        }\r\n        {(isLogin) ? '' :\r\n          <>\r\n            <label className=\"popup__input-title\" htmlFor=\"name\">Имя</label>\r\n            <input \r\n              onChange={validate.handleChange}\r\n              id=\"name\" \r\n              className=\"popup__input\" \r\n              type=\"text\" \r\n              name=\"name\" \r\n              minLength=\"2\" \r\n              maxLength=\"30\" \r\n              required \r\n              placeholder=\"Введите имя\"\r\n              pattern=\"[A-Za-zА-Яа-яЁё -]{2,40}\"\r\n              value={validate.values.name || ''}\r\n              disabled={disabledState}\r\n            />\r\n            <span className={`popup__input-error ${(validate.errors.name) ? 'popup__input-error_visible' : ''}`} id=\"name-error\">Неправильный формат имени</span>\r\n          </>\r\n        }\r\n        {(successRegistr) ? '' :\r\n          <>\r\n            <span className={`popup__submit-error ${(isSubmitError) ? 'popup__submit-error_visible' : ''}`} id=\"button-error\">{submitErrorMessage}</span>\r\n            <button className={`popup__submit ${(validate.isValid || !disabledState) ? '' : 'popup__submit_disabled'}`} disabled={(validate.isValid || !disabledState) ? false : true} type=\"submit\">{buttonSubmit}</button>\r\n            <p className=\"popup__footer\">или<span onClick={handleLinkFooter} className=\"popup__link\">{link}</span></p>\r\n          </>  \r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useCallback } from \"react\";\r\n\r\nexport function useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({...values, [name]: value});\r\n    setErrors({...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm };\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n  function redirectToLogin() {\r\n    props.handleLoginPopup();\r\n    return (\r\n      <Redirect to=\"./\" />\r\n    );\r\n  }\r\n  return (\r\n    <Route>\r\n      {\r\n        () => localStorage.getItem('token') ? <Component {...props} /> : redirectToLogin()\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\nimport './App.css';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport SavedNews from '../SavedNews/SavedNews';\nimport Footer from '../Footer/Footer';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport ProtectedRoute from '../ProtectedRoute';\nimport * as NewsApi from '../../utils/NewsApi';\nimport * as MainApi from '../../utils/MainApi';\n\nfunction App() {\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isPopupWithFormOpened, setIsPopupWithFormOpened] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isPreload, setIsPreload] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(true);\n  const [errorMessage, setErrorMessage] = React.useState(false);\n  const [articles, setArticles] = React.useState([]);\n  const [articlesCounter, setArticlesCounter] = React.useState(2);\n  const [savedArticles, setSavedArticles] = React.useState([]);\n  const history = useHistory();\n  \n  function handleLoginPopup() {\n    setIsPopupWithFormOpened(true);\n  }\n  function closeAllPopups() {\n    setIsPopupWithFormOpened(false);\n  }\n  function signOut() {\n    setCurrentUser({});\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    history.push('/');\n  }\n  function processingArticles(news, savedArticles) {\n    const processedArticles = news.map((art) => {\n      savedArticles.find((item) => {\n        if(art.link === item.link && art.title === item.title && art.text === item.text) {\n          return art._id = item._id;\n        }\n        else if (art._id !== item._id) {\n          delete art._id;\n        }\n        return null;\n      })\n      return art;\n    });\n    setArticles(processedArticles);\n  }\n  function getProfileInfo(token) {\n    const localArticles = JSON.parse(localStorage.getItem('articles'));\n\n    Promise.all([MainApi.getUser(token), MainApi.getSavedArticles(token)])\n    .then(([user, savedArticles]) => {\n      if (localArticles) {\n        processingArticles(localArticles, savedArticles);\n      }\n      setCurrentUser(user);\n      setSavedArticles(savedArticles);\n      setLoggedIn(true);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  }\n  function processingSaveArticle(savedArt) {\n    const processedArticles = articles.map((art) => {\n      if (art.link === savedArt.link && art.title === savedArt.title && art.text === savedArt.text) {\n        art._id = savedArt._id;\n      }\n      return art;\n    })\n    setArticles(processedArticles);\n  }\n  function processingDeleteArticle(deletedArtId) {\n    const processedArticles = articles.map((art) => {\n      if (art._id === deletedArtId) {\n        delete art._id;\n      }\n      return art;\n    })\n    setArticles(processedArticles);\n  }\n  function successRequest(news, keyword) {\n    setErrorMessage(false);\n    const result = news.articles.map((art) => {\n      const article = {\n        keyword: keyword,\n        title: art.title,\n        text: art.description,\n        date: art.publishedAt,\n        source: art.source?.name || art.author || '',\n        link: art.url,\n        image: art.urlToImage,\n      };\n      return article;\n    });\n    localStorage.setItem('articles', JSON.stringify(result));\n    processingArticles(result, savedArticles);\n    setIsPreload(false);\n  }\n  function getNews(keyword) {\n    setIsSuccess(true);\n    setIsPreload(true);\n    setArticlesCounter(2);\n    localStorage.setItem('keyword', keyword);\n    NewsApi.getNews(keyword)\n    .then((news) => (news.status === 'ok' && news.totalResults) ? successRequest(news, keyword) : notFoundRequest())\n    .catch((err) => {\n      setErrorMessage(true);\n      setIsSuccess(false);\n      console.log(err);\n    });\n  }\n  function notFoundRequest() {\n    setErrorMessage(false);\n    setIsSuccess(false);\n  }\n  function handleMoreCards() {\n    if (articlesCounter < articles.length) {\n      setArticlesCounter(articlesCounter + 3);\n    }\n  }\n  function handleSaveCards(keyword, title, text, date, source, link, image) {\n    const token = localStorage.getItem('token');\n    if (token) {\n      MainApi.saveCard(token, keyword, title, text, date, source, link, image)\n      .then((res) => {\n        setSavedArticles([...savedArticles, res]);\n        processingSaveArticle(res);\n      })\n      .catch((err) => console.log(err));\n    }\n  }\n  function handleDeleteArticle(articleId) {\n    const token = localStorage.getItem('token');\n    if (token) {\n      MainApi.deleteArticle(token, articleId)\n      .then(() => {\n        const newSavedArticles = savedArticles.filter((art) => art._id !== articleId);\n        setSavedArticles(newSavedArticles);\n        processingDeleteArticle(articleId);\n      })\n      .catch((err) => console.log(err))\n      .finally(() => console.log(articles));\n    }\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem('token');\n\n      if (token) {\n        getProfileInfo(token);\n      }\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          signOut={signOut}\n          handleLoginPopup={handleLoginPopup}\n          loggedIn={loggedIn}\n          isPopupOpened={isPopupWithFormOpened} \n        />\n        <Switch>\n          <ProtectedRoute \n            path=\"/saved-news\" \n            loggedIn={loggedIn}\n            savedArticles={savedArticles} \n            handleDeleteArticle={handleDeleteArticle} \n            component={SavedNews}\n            handleLoginPopup={handleLoginPopup}\n          />\n          <Route path=\"/\">\n            <Main\n              isPreload={isPreload}\n              getNews={getNews}\n              isSuccess={isSuccess}\n              errorMessage={errorMessage}\n              articles={articles}\n              handleMoreCards={handleMoreCards}\n              articlesCounter={articlesCounter}\n              handleSaveCards={handleSaveCards}\n              handleDeleteArticle={handleDeleteArticle}\n              loggedIn={loggedIn}\n              handleLoginPopup={handleLoginPopup}\n            />\n            <PopupWithForm \n              isOpen={isPopupWithFormOpened}\n              onClose={closeAllPopups}\n              getProfileInfo={getProfileInfo}\n            />\n          </Route>\n        </Switch>\n        <Footer />\n      </CurrentUserContext.Provider>\n    </>\n  );\n}\n\nexport default App;\n","export const getNews = (keyword) => {\r\n  let date = new Date();\r\n  date.setDate(date.getDate() - 7);\r\n  let sevenDaysAgo = date.toISOString().split('T')[0];\r\n  let today = new Date().toISOString().split('T')[0];\r\n\r\n  // top-headlines?country=ru&\r\n  return fetch(`http://newsapi.org/v2/everything?q=${keyword}&from=${sevenDaysAgo}&to=${today}&pageSize=100`, {\r\n    headers: {\r\n      'Authorization': '7b77b1cd4501401eb229549abe7a3c60',\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if(res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  });\r\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}